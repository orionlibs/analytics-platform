---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "grafana-adaptive-metrics_policy Resource - terraform-provider-grafana-adaptive-metrics"
subcategory: ""
description: |-
  A policy defines the configuration for Adaptive Metrics recommendations generation. Policies can be assigned to segments to customize recommendation behavior.
---

# grafana-adaptive-metrics_policy (Resource)

A policy defines the configuration for Adaptive Metrics recommendations generation. Policies can be assigned to segments to customize recommendation behavior.

## Example Usage

```terraform
resource "grafana-adaptive-metrics_policy" "example" {
  name = "example-policy"

  usage_sources = ["dashboard", "rules", "queries"]

  unused_metrics_action = "drop_custom_labels"

  unused_metrics_action_act_on_custom_labels = [
    "cluster",
    "namespace",
    "environment"
  ]

  min_query_usages = 5
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) The name of the policy.

### Optional

- `min_query_usages` (Number) The minimum number of query usages required for a metric to be considered for recommendations.
- `unused_metrics_action` (String) The action to take for metrics with no recorded usage. Valid values are: drop_all_labels, drop_custom_labels, keep_custom_labels, best_guess.
- `unused_metrics_action_act_on_custom_labels` (List of String) The list of custom labels to act on when unused_metrics_action is drop_custom_labels or keep_custom_labels.
- `usage_sources` (List of String) The sources of usage data to consider when generating recommendations. Valid values are: dashboard, rules, queries.

### Read-Only

- `id` (String) A ULID that uniquely identifies the policy.
