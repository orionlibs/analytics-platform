{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "title": "k6 Machine-Readable End-of-Test Summary Schema v1",
    "description": "Official JSON schema for k6's machine-readable end-of-test summary format version 1.0",
    "type": "object",
    "required": ["version", "metadata", "config", "results"],
    "additionalProperties": false,
    "properties": {
      "version": {
        "$ref": "../../semver/2.0.0/schema.json#/$defs/SemVer",
        "description": "Schema version in semver 2.0 format (e.g., '1.0.0')"
      },
      "metadata": {
        "type": "object",
        "description": "Metadata about the summary generation",
        "required": ["generatedAt", "k6Version"],
        "additionalProperties": false,
        "properties": {
          "generatedAt": {
            "type": "string",
            "format": "date-time",
            "description": "RFC3339 timestamp when summary was generated"
          },
          "k6Version": {
            "$ref": "../../semver/2.0.0/schema.json#/$defs/SemVer",
            "description": "Version of k6 that generated this summary"
          }
        }
      },
      "config": {
        "type": "object",
        "description": "Configuration information about the test execution",
        "required": ["execution", "duration"],
        "additionalProperties": false,
        "properties": {
          "execution": {
            "type": "string",
            "enum": ["local", "cloud"],
            "description": "Type of execution (local or cloud)"
          },
          "script": {
            "type": "string",
            "description": "Path or name of the test script"
          },
          "duration": {
            "type": "number",
            "minimum": 0,
            "description": "Test run duration in seconds"
          }
        }
      },
      "results": {
        "type": "object",
        "description": "Test execution results data",
        "required": ["metrics"],
        "additionalProperties": false,
        "properties": {
          "metrics": {
            "type": "array",
            "description": "Array of all metrics from the test execution",
            "items": {
              "$ref": "../../metric/1.0.0/schema.json#/$defs/Metric"
            }
          },
          "checks": {
            "type": "object",
            "description": "Check execution results",
            "additionalProperties": false,
            "properties": {
              "metrics": {
                "type": "array",
                "description": "Array of check-related metrics",
                "items": {
                  "$ref": "../../metric/1.0.0/schema.json#/$defs/Metric"
                }
              },
              "results": {
                "type": "array",
                "description": "Individual check results in execution order",
                "$comment": "Results are ordered following the order they were defined/interpreted in the source script, aligned with k6's internal behavior",
                "items": {
                  "type": "object",
                  "required": ["name", "passes", "fails"],
                  "additionalProperties": false,
                  "properties": {
                    "name": {
                      "type": "string",
                      "description": "Check name"
                    },
                    "passes": {
                      "type": "integer",
                      "minimum": 0,
                      "description": "Number of times the check passed"
                    },
                    "fails": {
                      "type": "integer",
                      "minimum": 0,
                      "description": "Number of times the check failed"
                    }
                  }
                }
              }
            }
          }
        }
      }
    }
  }